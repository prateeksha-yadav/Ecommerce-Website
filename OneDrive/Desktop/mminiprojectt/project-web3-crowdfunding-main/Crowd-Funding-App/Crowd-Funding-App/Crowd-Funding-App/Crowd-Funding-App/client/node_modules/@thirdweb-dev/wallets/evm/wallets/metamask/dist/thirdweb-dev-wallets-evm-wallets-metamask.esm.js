import { _ as _defineProperty } from '../../../../dist/defineProperty-e24c82ea.esm.js';
import { _ as _classPrivateFieldInitSpec, a as _classPrivateFieldGet, b as _classPrivateFieldSet } from '../../../../dist/classPrivateFieldGet-5cbab388.esm.js';
import { W as WagmiAdapter } from '../../../../dist/tw-connector-e44dbd6f.esm.js';
import { AbstractBrowserWallet } from '../../base/dist/thirdweb-dev-wallets-evm-wallets-base.esm.js';
import 'eventemitter3';
import '../../../../dist/abstract-c169745b.esm.js';
import 'ethers';
import '../../../../dist/storage-d861365e.esm.js';
import 'localforage';

var _connector = /*#__PURE__*/new WeakMap();
class MetaMask extends AbstractBrowserWallet {
  get walletName() {
    return "MetaMask";
  }
  constructor(options) {
    super(MetaMask.id, options);
    _classPrivateFieldInitSpec(this, _connector, {
      writable: true,
      value: void 0
    });
  }
  async getConnector() {
    if (!_classPrivateFieldGet(this, _connector)) {
      // import the connector dynamically
      const {
        MetaMaskConnector
      } = await import('../../../connectors/metamask/dist/thirdweb-dev-wallets-evm-connectors-metamask.esm.js');
      _classPrivateFieldSet(this, _connector, new WagmiAdapter(new MetaMaskConnector({
        chains: this.chains,
        options: {
          shimDisconnect: true
        }
      })));
    }
    return _classPrivateFieldGet(this, _connector);
  }
}
_defineProperty(MetaMask, "id", "metamask");

export { MetaMask };
