import {
  determineGuardFn
} from "./chunk-SHFNMZGG.mjs";
import {
  toArray
} from "./chunk-56JGUX4Y.mjs";
import {
  isString
} from "./chunk-I7UKD6FS.mjs";

// src/transition-utils.ts
function toTarget(target) {
  return isString(target) ? { target } : target;
}
function determineTransitionFn(transitions, guardMap) {
  return (context, event, meta) => {
    return toArray(transitions).map(toTarget).find((transition) => {
      var _a;
      const determineGuard = determineGuardFn(transition.guard, guardMap);
      const guard = determineGuard(context, event, meta);
      return (_a = guard != null ? guard : transition.target) != null ? _a : transition.actions;
    });
  };
}

export {
  toTarget,
  determineTransitionFn
};
